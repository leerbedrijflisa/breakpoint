<template>
    <link rel="stylesheet" href="css/Dashboard.css" />
    <h2>List of reports: </h2>
    <a route-href="route: create-report; params.bind: { organization: params.organization, project: params.project }">Create report</a>
    <ul>
        <li repeat.for="report of reports" class="li-item" onload="alert('hallo')">
            <h3>
                <a route-href="route: edit-report; params.bind: { organization: $parent.params.organization, project: $parent.params.project, id: report.number }">
                    Report ${report.number} - ${report.title}
                </a>
            </h3>
            <p><span class="label">stepByStep:</span> ${report.stepByStep}</p>
            <p><span class="label">expectation:</span> ${report.expectation}</p>
            <p><span class="label">whatHappened:</span> ${report.whatHappened}</p>
            <p><span class="label">reporter:</span> ${report.reporter}</p>
            <p><span class="label">reported:</span> ${report.reported}</p>
            <form submit.delegate="$parent.submit(report.number, $index )">
                   <span class="label">status:</span>
                    <select value.bind="report.status" name="status" id="status${report.number}">
                        <option value="Open">Open</option>
                        <option value="Fixed">Fixed</option>
                        <option value="Won't Fix">Won't Fix</option>
                        <option value="Won't Fix (Approved)">Won't Fix (Approved)</option>
                        <option value="Closed">Closed</option>
                    </select>
                    <button type="submit" name="submit">Edit Status</button>
            </form>
            <p><span class="label">priority:</span> ${report.priority}</p>
            <br />
            <p><span>assigned to a </span> <span class="label">${report.assignedTo.type}</span>: ${report.assignedTo.value}</p>
        </li>
    </ul>

    <hr />

    <h4>Supported browsers</h4>
    <ul>
        <li repeat.for="browser of browsers">${browser}</li>
    </ul>
</template>