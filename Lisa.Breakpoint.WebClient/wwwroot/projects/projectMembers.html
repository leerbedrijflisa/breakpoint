<template>
    <link rel="stylesheet" href="css/projects/projectMembers.css" />
    <style>
        
    </style>
    <h2>Project members: ${params.project}</h2>
    <ul class="members">
        <li repeat.for="member of members" class="li-item member">
            <p>${member.userName}
                <select id="role_${member.userName}" value.bind="member.role" change.trigger="$parent.saveChanges(member.userName)">
                    <option repeat.for="group of $parent.groups" value.bind="$parent.role.name" value="${group.name}">${group.name}</option>
                </select>
            </p>
        </li>
    </ul>

    <hr />

    <p>New member: </p>
    <p>
        <select id="newMember">
            <option repeat.for="member of orgMembers" value="${member}">${member}</option>
        </select>
        <select id="newRole">
            <option repeat.for="group of groups" value="${group.name}">${group.name}</option>
        </select>
        <button click.delegate="addMember()">Add member</button>
    </p>
</template>