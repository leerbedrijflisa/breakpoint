<template>
    <link rel="stylesheet" href="css/Dashboard.css" />
    <a route-href="route: createBugReport"> new report</a>
    <h2>List of reports: </h2>
    <br />
    <ul>
        <li repeat.for="report of reports" class="li-item">
            <p><a href="/#/edit?id=${report.idNumber}">Edit report</a></p>
            <p><span class="label">id:</span> ${report.id}</p>
            <p><span class="label">number:</span> ${report.number}</p>
            <p><span class="label">project: </span> ${report.project.slug} - ${report.project.name}</p>
            <p><span class="label">stepByStep:</span> ${report.stepByStep}</p>
            <p><span class="label">expectation:</span> ${report.expectation}</p>
            <p><span class="label">whatHappened:</span> ${report.whatHappened}</p>
            <p><span class="label">reporter:</span> ${report.reporter}</p>
            <p><span class="label">reported:</span> ${report.reported}</p>
            <p><span class="label">status:</span> ${report.status}</p>
            <form submit.delegate="$parent.submit()">
                <select value.bind="$parent.status" name="status_${report.id}" type="text">
                    <option value="open" selected>Open</option>
                    <option value="fixed">Fixed</option>
                    <option value="wont fix">Won't Fix</option>
                    <option value="wont fix approved">Won't Fix (Approved)</option>
                    <option value="closed">Closed</option>
                </select>
                <input type="hidden" value="${report.id}" name="${report.id}">
                <button type="submit" name="submit">Edit Status</button>
            </form>
            <p><span class="label">priority:</span> ${report.priority}</p>
            <p><span class="label">assignedTo:</span> ${report.assignedTo.userName} - ${report.assignedTo.fullName}</p>
            <p><span class="label">test version:</span> ${report.version}</p>
        </li>
    </ul>
</template>